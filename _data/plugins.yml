csr:
  ec:
    id: 9aadcf71-5241-4c4f-aee1-bfe3f6be3489
    title: Elliptic Curve
    subtitle: Generate an EC public/private key pair 
    arguments:
      - ocsp-must-staple
      - reuse-privatekey
    settings:
      - Csr.Ec.CurveName
      - Csr.Ec.SignatureAlgorithm
    compatibility: All platforms
    examples:
      - 
        name: Typical
        cmd: '[‑‑ocsp-must-staple] [‑‑reuse-privatekey]'

  rsa:
    id: b9060d4b-c2d3-49ac-b37f-962e7c3cbe9d
    title: RSA
    subtitle: Generate an RSA public/private key pair
    default: 'Yes'
    arguments:
      - ocsp-must-staple
      - reuse-privatekey
    settings:
      - Csr.Rsa.KeyBits
      - Csr.Rsa.SignatureAlgorithm
    compatibility: All platforms
    examples:
      - 
        name: Typical
        cmd: '[‑‑ocsp-must-staple] [‑‑reuse-privatekey]'

installation:
  iis:
    id: ea6a5be3-f8de-4d27-a6bd-750b619b2ee2
    title: IIS
    subtitle: Create or update bindings in IIS
    default: 'Yes'
    arguments: 
      - sslport
      - sslipaddress
      - installationsiteid
    compatibility: Windows (admin only)
    examples:
        - 
            name: Typical
            cmd: '[‑‑installationsiteid 14] [‑‑sslport 8443] [‑‑sslipaddress 192.168.0.1]'

  script:
    id: 3bb22c70-358d-4251-86bd-11858363d913
    title: Script
    subtitle: Start external script or program
    arguments:
      - script
      - scriptparameters
    settings:
      - Script.PowershellExecutablePath
      - Script.Timeout
    compatibility: All platforms
    examples:
        - 
            name: Typical
            cmd: '‑‑script C:\script.bat [‑‑scriptparameters x]'

  none:
    id: aecc502c-5f75-43d2-b578-f95d50c79ea1
    title: None
    subtitle: No (additional) installation steps
    compatibility: All platforms

order:
  domain:
    id: b7c331d4-d875-453e-b83a-2b537ca12535
    title: Domain
    subtitle: Separate certificate for each domain (e.g. *.example.com)
    compatibility: All platforms

  host:
    id: 874a86e4-29c7-4294-9ab6-6908866847a0 
    title: Host
    subtitle: Separate certificate for each host (e.g. sub.example.com)
    compatibility: All platforms

  single:
    id: b705fa7c-1152-4436-8913-e433d7f84c82
    title: Single
    subtitle: Single certificate
    default: 'Yes'
    compatibility: All platforms

  site:
    id: 74a42b2d-8eaa-4f40-ab6a-f55304254143
    title: Site
    subtitle: Separate certificate for each IIS site
    compatibility: Windows (*)

source:
  csr:
    id: 5C3DB0FB-840B-469F-B5A7-0635D8E9A93D
    title: CSR
    subtitle: CSR created by another program
    arguments:
      - csrfile
      - pkfile
    compatibility: All platforms
    examples:
        - 
            name: Typical
            cmd: '‑‑csrfile C:\csr.txt [‑‑pkfile C:\key.txt]'

  iis:
    id: 54deb3ee-b5df-4381-8485-fe386054055b
    title: IIS
    subtitle: Read bindings from IIS
    arguments:
      - siteid
      - iis.host
      - host-pattern
      - host-regex
      - iis.commonname
      - excludebindings
      - host-type
      - hidehttps
    compatibility: Windows (admin only)
    examples:
        - 
            name: Single binding
            cmd: '‑‑host example.com [‑‑siteid 1]'
        - 
            name: More bindings
            cmd: '‑‑host example.com,www.example.com [‑‑siteid 1,2,3] [‑‑commonname common.example.com]'
        - 
            name: All site bindings
            cmd: '‑‑siteid 1 [‑‑commonname common.example.com] [‑‑excludebindings exclude.example.com]'
        - 
            name: Multiple sites
            cmd: '‑‑siteid 1,2,3 [‑‑commonname common.example.com] [‑‑excludebindings exclude.example.com]'
        - 
            name: All sites
            cmd: '‑‑siteid s [‑‑commonname common.example.com] [‑‑excludebindings exclude.example.com]'
        - 
            name: Pattern
            cmd: '‑‑host-pattern *.example.??? [‑‑siteid 1,2,3] [‑‑commonname common.example.com] [‑‑excludebindings exclude.example.com]'
        - 
            name: Regex
            cmd: '‑‑host-regex [a-z]{3}\.example(\.com|\.net) [‑‑siteid 1,2,3] [‑‑commonname common.example.com] [‑‑excludebindings exclude.example.com]'    
  
  manual:
    id: e239db3b-b42f-48aa-b64f-46d4f3e9941b
    title: Manual
    subtitle: Manual input
    arguments:
      - manual.host
      - manual.commonname
    compatibility: All platforms
    examples:
        - 
            name: Typical
            cmd: '‑‑host a.example.com,*.example.com'   

store:
  centralssl:
    id: af1f77b6-4e7b-4f96-bba5-c2eeb4d0dd42
    title: Central Certificate Store
    subtitle: Add to IIS Central Certificate Store
    arguments:
      - centralsslstore
      - centralssl.pfxpassword
    settings:
      - Store.CentralSsl.DefaultPath
      - Store.CentralSsl.DefaultPassword
      - Store.CentralSsl.DefaultProtectionMode
    compatibility: All platforms
    examples:
        - 
            name: Typical
            cmd: '[‑‑centralsslstore C:\CentralSSL\] [‑‑pfxpassword *****]'   

  certificatestore:
    id: e30adc8e-d756-4e16-a6f2-450f784b1a97
    title: Certificate Store
    subtitle: Add to Windows Certificate Store (Local Computer)
    arguments:
      - certificatestore
      - keepexisting
      - acl-fullcontrol
      - acl-read
    settings:
      - Store.CertificateStore.DefaultStore
      - Store.CertificateStore.PrivateKeyExportable
      - Store.CertificateStore.UseNextGenerationCryptoApi
    compatibility: Windows
    examples:
        - 
            name: Typical
            cmd: '[‑‑certificatestore My] [‑‑keepexisting] [‑‑acl-fullcontrol "network service,administrators"] [‑‑acl-read "myapp"]'  
 
  keyvault:
    external: true
    id: dbfa91e2-28c0-4b37-857c-df6575dbb388
    title: Azure Key Vault
    subtitle: Store in Azure Key Vault
    arguments:
      - azureenvironment
      - azureusemsi
      - azuretenantid
      - azureclientid
      - azuresecret
      - vaultname
      - certificatename
    compatibility: All platforms
    examples:
      - 
        name: Service Principal
        cmd: '‑‑azuretenantid xxx ‑‑azureclientid xxx ‑‑azuresecret ***** ‑‑vaultname MyVault ‑‑certificatename MyCertificate'
      -
        name: Managaged Identity
        cmd: '‑‑azureusemsi ‑‑vaultname MyVault ‑‑certificatename MyCertificate'

  pemfiles:
    id: e57c70e4-cd60-4ba6-80f6-a41703e21031
    title: PEM files
    subtitle: Create PEM encoded files (for Apache, nginx, etc.)
    arguments:
      - pemfilespath
      - pempassword
      - pemfilesname
    settings:
      - Store.PemFiles.DefaultPath
      - Store.PemFiles.DefaultPassword
    compatibility: All platforms
    examples:
        - 
            name: Typical
            cmd: '[‑‑pemfilespath C:\Certificates\] [‑‑pempassword ******] [‑‑pemfilesname mycert]' 

  pfxfile:
    id: 2a2c576f-7637-4ade-b8db-e8613b0bb33e
    title: PFX file
    subtitle: Create PFX/PKCS12 archive file
    arguments:
      - pfxfilepath
      - pfxfilepassword
      - pfxfilename
    settings:
      - Store.PfxFile.DefaultPath
      - Store.PfxFile.DefaultPassword
      - Store.PfxFile.DefaultProtectionMode
    compatibility: All platforms
    examples:
        - 
            name: Typical
            cmd: '[‑‑pfxpassword *****] [‑‑pfxfilepath C:\Certificates\] [‑‑pfxfilename mycert]' 

  userstore:
    external: true
    id: 95ee94e7-c8e2-40e6-a26f-c9fc3afa9fa5
    title: Certificate Store
    subtitle: Add to Windows Certificate Store (Current User)
    arguments:
      - keepexisting
    compatibility: All platforms
    examples:
        - 
            name: Typical
            cmd: '[‑‑keepexisting]' 

validation:
  dns:
    acme-dns:
      id: c13acc1b-7571-432b-9652-7a68a5f506c5
      title: acme-dns
      subtitle: Create verification records with acme-dns (https://github.com/joohoi/acme-dns)
      arguments:
        - acmednsserver
      compatibility: All platforms
      examples:
        - 
            name: Typical
            cmd: '[‑‑acmednsserver https://acme-dns.example.com/]'  
    
    aliyun:
      external: true
      id: 1d4db2ea-ce7c-46ce-b86f-40b356fcf999
      title: Alibaba / ALiYun
      subtitle: Create verification records in ALiYun DNS
      arguments:
        - aliyunserver
        - aliyunapiid
        - aliyunapisecret
      compatibility: All platforms
      examples:
        - 
          name: Typical
          cmd: ‑‑aliyunapiid xx ‑‑aliyunapisecret xx
        - 
          name: Alternative server
          cmd: ‑‑aliyunapiid xx ‑‑aliyunapisecret xx ‑‑aliyunserver dns.aliyuncs.com  

    azure:
      external: true
      id: aa57b028-45fb-4aca-9cac-a63d94c76b4a
      title: Microsoft Azure
      subtitle: Create verification records in Azure DNS
      arguments:
        - azureenvironment
        - azureusemsi
        - azuretenantid
        - azureclientid
        - azuresecret
        - azuresubscriptionid
        - azureresourcegroupname
        - azurehostedzone
      compatibility: All platforms
      examples:
        - 
          name: Service Principal
          cmd: '‑‑azuretenantid xxx ‑‑azureclientid xxx ‑‑azuresecret ***** ‑‑azuresubscriptionid xxx ‑‑azureresourcegroupname xxx [‑‑azurehostedzone xxx]'
        -
          name: Managaged Identity
          cmd: '‑‑azureusemsi ‑‑azuresubscriptionid xxx ‑‑azureresourcegroupname xxx [‑‑azurehostedzone xxx]'

    googledns:
      external: true
      trigger: gpcdns
      id: B61505E9-1709-43FD-996F-C74C3686286C
      title: Google Cloud DNS
      subtitle: Create verification records in Google Cloud DNS
      arguments:
        - serviceaccountkey
        - projectid
      compatibility: All platforms
      examples:
        - 
          name: Typical
          cmd: ‑‑serviceaccountkey C:\gcp\key.txt ‑‑projectid example

    cloudflare:
      external: true
      id:
      title:
      subtitle:
      arguments:
      compatibility: All platforms

    digitalocean:
      external: true
      id:
      title:
      subtitle:
      arguments:
      compatibility: All platforms

    dnsexit:
      external: true
      id:
      title:
      subtitle:
      arguments:
      compatibility: All platforms

    dnsmadeeasy:
      external: true
      id:
      title:
      subtitle:
      arguments:
      compatibility: All platforms

    domene:
      external: true
      id:
      title:
      subtitle:
      arguments:
      compatibility: All platforms

    dreamhost:
      external: true
      id:
      title:
      subtitle:
      arguments:
      compatibility: All platforms

    godaddy:
      external: true
      id:
      title:
      subtitle:
      arguments:
      compatibility: All platforms

    hetzner:
      external: true
      id:
      title:
      subtitle:
      arguments:
      compatibility: All platforms

    infomaniak:
      external: true
      id:
      title:
      subtitle:
      arguments:
      compatibility: All platforms

    linode:
      external: true
      id:
      title:
      subtitle:
      arguments:
      compatibility: All platforms

    lua:
      external: true
      id:
      title:
      subtitle:
      arguments:
      compatibility: All platforms

    manual:
      id:
      title:
      subtitle:
      arguments:
      compatibility: All platforms

    ns1:
      external: true
      id:
      title:
      subtitle:
      arguments:
      compatibility: All platforms

    rfc2136:
      external: true
      id:
      title:
      subtitle:
      arguments:
      compatibility: All platforms

    route53:
      external: true
      id:
      title:
      subtitle:
      arguments:
      compatibility: All platforms

    script:
      id:
      title:
      subtitle:
      arguments:
      compatibility: All platforms

    simply:
      external: true
      id:
      title:
      subtitle:
      arguments:
      compatibility: All platforms

    tencent:
      external: true
      id:
      title:
      subtitle:
      arguments:
      compatibility: All platforms

    transip:
      external: true
      id:
      title:
      subtitle:
      arguments:
      compatibility: All platforms

  http:
    filesystem:
      id:
      title:
      subtitle:
      arguments:
      settings:
      compatibility: All platforms

    ftps:
      id:
      title:
      subtitle:
      arguments:
      settings:
      compatibility: All platforms

    rest:
      external: true
      id:
      title:
      subtitle:
      arguments:
      settings:
      compatibility: All platforms

    selfhosting:
      id:
      title:
      subtitle:
      arguments:
      settings:
      compatibility: All platforms

    sftp:
      id:
      title:
      subtitle:
      arguments:
      settings:
      compatibility: All platforms

    webdav:
      id:
      title:
      subtitle:
      arguments:
      settings:
      compatibility: All platforms

  tls-alpn:
    selfhosting:
      id:
      title:
      subtitle:
      arguments:
      settings:
      compatibility: All platforms